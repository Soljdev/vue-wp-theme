"use strict";(self.webpackChunkvue_wp_theme=self.webpackChunkvue_wp_theme||[]).push([[274],{831:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var i=s(641),r=s(33);const a={class:"dbg"},n={class:"dbg"},d={key:0},o=["post"],l={class:"post__content"},u=["href","title","innerHTML"],h=["innerHTML"],m={key:1},p=["demo"],g={class:"post__content"},c=["href","title","innerHTML"],_=["innerHTML"];const f={name:"Home",components:{ResponsiveImage:s(936).A},props:{page:{type:Number,required:!0}},data(){return{site:this.$store.state.site,requestPosts:{type:"posts",params:{per_page:this.$store.state.site.posts_per_page,page:this.page},showLoading:!0},requestDemos:{type:"demo",params:{per_page:this.$store.state.site.posts_per_page,page:this.page},showLoading:!0},totalPages:0}},computed:{posts(){return this.$store.getters.requestedItems(this.requestPosts)},demos(){return this.$store.getters.requestedItems(this.requestDemos)}},methods:{getPosts(){return this.$store.dispatch("getItems",this.requestPosts)},getDemos(){return this.$store.dispatch("getItems",this.requestDemos)},setTotalPages(){this.totalPages=this.$store.getters.totalPages(this.requestPosts)}},created(){console.log("Home.vue // create()",this),this.getPosts().then(()=>this.setTotalPages()),this.getDemos().then()}};const k=(0,s(262).A)(f,[["render",function(e,t,s,f,k,v){const y=(0,i.g2)("ResponsiveImage");return(0,i.uX)(),(0,i.CE)("main",a,[(0,i.Lk)("pre",n,"            site = RADL::get( 'state.site' );\n"+(0,r.v_)(k.site)+"\n        ",1),(0,i.Q3)(" // posts "),v.posts.length?((0,i.uX)(),(0,i.CE)("section",d,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(v.posts,e=>((0,i.uX)(),(0,i.CE)("article",{class:"post dbg",key:e.id,post:e},[e.featured_media?((0,i.uX)(),(0,i.Wv)(y,{key:0,class:"post__featured-media","media-id":e.featured_media,sizes:"(max-width: 680px) 40vw, 400px"},null,8,["media-id"])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",l,[(0,i.Lk)("h2",null,[(0,i.Lk)("a",{href:e.link,title:e.title.rendered,innerHTML:e.title.rendered},null,8,u)]),(0,i.Lk)("div",{innerHTML:e.excerpt.rendered},null,8,h)])],8,o))),128))])):(0,i.Q3)("v-if",!0),(0,i.Q3)(" // demos "),v.demos.length?((0,i.uX)(),(0,i.CE)("section",m,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(v.demos,e=>((0,i.uX)(),(0,i.CE)("article",{class:"post dbg",key:e.id,demo:e},[e.featured_media?((0,i.uX)(),(0,i.Wv)(y,{key:0,class:"post__featured-media","media-id":e.featured_media,sizes:"(max-width: 680px) 40vw, 400px"},null,8,["media-id"])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",g,[(0,i.Lk)("h2",null,[(0,i.Lk)("a",{href:e.link,title:e.title.rendered,innerHTML:e.title.rendered},null,8,c)]),(0,i.Lk)("div",{innerHTML:e.excerpt.rendered},null,8,_)])],8,p))),128))])):(0,i.Q3)("v-if",!0)])}]])},936:(e,t,s)=>{s.d(t,{A:()=>l});var i=s(641),r=s(33);const a=["href"],n={key:1},d=["src","srcset","sizes","alt","title"];const o={name:"ResponsiveImage",props:{mediaId:{type:Number,required:!0},link:{type:[String,Boolean],required:!1},title:{type:String,required:!1},sizes:{type:String,required:!1},proportions:{type:Boolean,default:!0},imageSize:{type:String,required:!1,default:"cover"}},data(){return{request:{type:"media",id:this.mediaId,batch:!0}}},computed:{imageRatio(){if(this.image)return this.image.media_details.width+"/"+this.image.media_details.height},image(){return this.$store.getters.singleById(this.request)},srcset(){if(this.image){let e=this.image.media_details.sizes;return Object.keys(e).reduce((t,s)=>(t.push(`${e[s].source_url} ${e[s].width}w`),t),[]).join(", ")}},imageAttributes(){if(this.image)return{src:this.image?.source_url,srcset:this.srcset,sizes:this.sizes,alt:this.title||this.image?.alt_text,title:this.title||this.image?.title.rendered,style:`object-fit: ${this.imageSize};`}},aspectRatioAttribute(){if(this.proportions)return"aspect-ratio: "+this.imageRatio}},methods:{getMedia(){this.mediaId&&this.$store.dispatch("getSingleById",this.request)}},created(){console.log("ResponsiveImage.vue => created()",this.mediaId,this),this.getMedia()}};const l=(0,s(262).A)(o,[["render",function(e,t,s,o,l,u){return(0,i.uX)(),(0,i.CE)("div",{class:"responsive-image",style:(0,r.Tr)(u.aspectRatioAttribute)},[(0,i.Q3)(' <transition name="fade" :duration="1000"> '),s.link&&u.image?((0,i.uX)(),(0,i.CE)("a",{key:0,href:s.link},[(0,i.Lk)("img",(0,r._B)((0,i.Ng)(u.imageAttributes)),null,16)],8,a)):u.image?((0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("img",{src:this.image?.source_url,srcset:this.srcset,sizes:this.sizes,alt:this.title||this.image?.alt_text,title:this.title||this.image?.title.rendered,style:(0,r.Tr)(`object-fit: ${this.imageSize}`)},null,12,d)])):(0,i.Q3)("v-if",!0),(0,i.Q3)(" </transition> ")],4)}]])}}]);