"use strict";(self.webpackChunkvue_wp_theme=self.webpackChunkvue_wp_theme||[]).push([[291],{159:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var s=i(641),r=i(33);const a={key:0},n=["innerHTML"],d=["innerHTML"],o={class:"dbg"};const u={name:"Single",components:{ResponsiveImage:i(936).A},props:{slug:{type:String,required:!1}},data(){return{request:{type:"posts",slug:this.slug,showLoading:!0}}},computed:{post(){return this.$store.getters.singleBySlug(this.request)}},methods:{getPost(){this.$store.dispatch("getSingleBySlug",this.request).then(()=>{this.$store.dispatch("updateDocTitle",{parts:[this.post.title.rendered,this.$store.state.site.name]})})}},created(){this.getPost()}};const l=(0,i(262).A)(u,[["render",function(e,t,i,u,l,h){const g=(0,s.g2)("ResponsiveImage");return(0,s.uX)(),(0,s.CE)("main",null,[h.post?((0,s.uX)(),(0,s.CE)("article",a,[(0,s.Lk)("header",null,[h.post.featured_media?((0,s.uX)(),(0,s.Wv)(g,{key:0,"media-id":h.post.featured_media,sizes:"(max-width: 1200px) 100vw, 1200px"},null,8,["media-id"])):(0,s.Q3)("v-if",!0),(0,s.Lk)("h1",{innerHTML:h.post.title.rendered},null,8,n)]),(0,s.Lk)("div",{innerHTML:h.post.content.rendered},null,8,d),(0,s.Lk)("pre",o,"        single = RADL::get( 'state.posts', get_the_ID() );\n        "+(0,r.v_)(h.post)+"\n      ",1)])):(0,s.Q3)("v-if",!0)])}]])},936:(e,t,i)=>{i.d(t,{A:()=>u});var s=i(641),r=i(33);const a=["href"],n={key:1},d=["src","srcset","sizes","alt","title"];const o={name:"ResponsiveImage",props:{mediaId:{type:Number,required:!0},link:{type:[String,Boolean],required:!1},title:{type:String,required:!1},sizes:{type:String,required:!1},proportions:{type:Boolean,default:!0},imageSize:{type:String,required:!1,default:"cover"}},data(){return{request:{type:"media",id:this.mediaId,batch:!0}}},computed:{imageRatio(){if(this.image)return this.image.media_details.width+"/"+this.image.media_details.height},image(){return this.$store.getters.singleById(this.request)},srcset(){if(this.image){let e=this.image.media_details.sizes;return Object.keys(e).reduce((t,i)=>(t.push(`${e[i].source_url} ${e[i].width}w`),t),[]).join(", ")}},imageAttributes(){if(this.image)return{src:this.image?.source_url,srcset:this.srcset,sizes:this.sizes,alt:this.title||this.image?.alt_text,title:this.title||this.image?.title.rendered,style:`object-fit: ${this.imageSize};`}},aspectRatioAttribute(){if(this.proportions)return"aspect-ratio: "+this.imageRatio}},methods:{getMedia(){this.mediaId&&this.$store.dispatch("getSingleById",this.request)}},created(){console.log("ResponsiveImage.vue => created()",this.mediaId,this),this.getMedia()}};const u=(0,i(262).A)(o,[["render",function(e,t,i,o,u,l){return(0,s.uX)(),(0,s.CE)("div",{class:"responsive-image",style:(0,r.Tr)(l.aspectRatioAttribute)},[(0,s.Q3)(' <transition name="fade" :duration="1000"> '),i.link&&l.image?((0,s.uX)(),(0,s.CE)("a",{key:0,href:i.link},[(0,s.Lk)("img",(0,r._B)((0,s.Ng)(l.imageAttributes)),null,16)],8,a)):l.image?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("img",{src:this.image?.source_url,srcset:this.srcset,sizes:this.sizes,alt:this.title||this.image?.alt_text,title:this.title||this.image?.title.rendered,style:(0,r.Tr)(`object-fit: ${this.imageSize}`)},null,12,d)])):(0,s.Q3)("v-if",!0),(0,s.Q3)(" </transition> ")],4)}]])}}]);